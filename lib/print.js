const _0x1a074c = _0x31f7;
(function (_0x169178, _0x4d0d95) {
    const _0x399830 = _0x31f7, _0x4ce898 = _0x169178();
    while (!![]) {
        try {
            const _0x24ede9 = -parseInt(_0x399830(0xed)) / 0x1 + -parseInt(_0x399830(0xc9)) / 0x2 + parseInt(_0x399830(0xc3)) / 0x3 + parseInt(_0x399830(0xa5)) / 0x4 * (-parseInt(_0x399830(0xe2)) / 0x5) + -parseInt(_0x399830(0xff)) / 0x6 * (parseInt(_0x399830(0xec)) / 0x7) + parseInt(_0x399830(0xd0)) / 0x8 * (parseInt(_0x399830(0xb1)) / 0x9) + -parseInt(_0x399830(0xf3)) / 0xa * (-parseInt(_0x399830(0xe3)) / 0xb);
            if (_0x24ede9 === _0x4d0d95)
                break;
            else
                _0x4ce898['push'](_0x4ce898['shift']());
        } catch (_0x7bb7b) {
            _0x4ce898['push'](_0x4ce898['shift']());
        }
    }
}(_0x3650, 0x8a8fc));
import { WAMessageStubType } from '@whiskeysockets/baileys';
import _0x3b8dcc from 'awesome-phonenumber';
function _0x31f7(_0x1005b4, _0x55f4ba) {
    _0x1005b4 = _0x1005b4 - 0x9b;
    const _0x3650a = _0x3650();
    let _0x31f7e1 = _0x3650a[_0x1005b4];
    return _0x31f7e1;
}
import _0x2b4938 from 'chalk';
function _0x3650() {
    const _0x487dc = [
        'Character\x20Limit\x20Exceeded...',
        'vcard',
        'split',
        'blue',
        'trim',
        'DCyPa',
        'trimEnd',
        'italic',
        'üìÑ\x20Document\x20received:\x20',
        '\x0aüí¨\x20Message\x20Type:\x20',
        'startsWith',
        'magenta',
        'SHUQd',
        'cgehE',
        'sender',
        'replace',
        'Asia/Karachi',
        '3393436IyiDuA',
        'pSiRS',
        'green',
        'MASKED\x20COMMAND',
        '\x0a‚ï∞‚îÅ‚îÅ‚îÅ‚îÄ‚îÄ‚Ä¢‚úß‚úß‚Ä¢‚îÄ‚îÄ‚îÅ‚îÅ‚îÅ‚ïØ\x0a\x20\x20\x20\x20',
        '#FE0041',
        'üé§\x20(PTT\x20',
        'messageStubParameters',
        'substring',
        'jid',
        'üîí\x20',
        'error',
        '202113yttdBE',
        'mtype',
        'data',
        'SVYyE',
        '‚ö°\x20Command:\x20',
        '‚ùå\x20An\x20error\x20occurred:',
        'img',
        'test',
        'decodeJid',
        'HQJTk',
        'default',
        'length',
        'jxROK',
        'redBright',
        '__filename',
        'gray',
        '‚ùå\x20Error:\x20',
        'QUbYA',
        '1166229oOQGLg',
        'number',
        'seconds',
        'lcMYz',
        'toString',
        'text',
        '963832yndjpP',
        'axolotlSenderKeyDistributionMessage',
        'string',
        '‚ùå\x20Message\x20or\x20key\x20is\x20undefined.\x20Skipping\x20processing.',
        'lid',
        'yellow',
        'cDkgd',
        '184RfovSk',
        '\x0a‚è∞\x20Date\x20&\x20Time:\x20',
        'twSJN',
        'key',
        'international',
        'chat',
        'KWtYY',
        'Document',
        'aKJjT',
        'msg',
        '\x0aüë§\x20Sender:\x20',
        'fileLength',
        'displayName',
        '‚ùå\x20Error\x20processing\x20messageStubParameter:',
        'PKYEf',
        'getNumber',
        'bold',
        'blueBright',
        '5AMNubf',
        '24416513qrJrqg',
        'mentionedJid',
        'message',
        '\x0aüìÇ\x20Chat:\x20',
        'jITDG',
        'es-ES',
        'remoteJid',
        'toLocaleString',
        'üìù\x20Log:\x20',
        '56fyWSsu',
        '637258wENMBt',
        'strikethrough',
        'VaoJb',
        'map',
        'getName',
        'hex',
        '10RyINXt',
        'user',
        'buffer',
        'fVbns',
        'ptt',
        'participant',
        'bgGray',
        'log',
        'HnROu',
        '@s.whatsapp.net',
        'download',
        'padStart',
        '442392qPpEGi',
        'MASKED',
        '\x0a‚ï≠‚îÅ‚îÅ‚îÅ‚îÄ‚îÄ‚Ä¢‚úß‚úß‚Ä¢‚îÄ‚îÄ‚îÅ‚îÅ‚îÅ‚ïÆ\x0aüíª\x20',
        '‚ùå\x20Error\x20loading\x20image:'
    ];
    _0x3650 = function () {
        return _0x487dc;
    };
    return _0x3650();
}
import { watchFile } from 'fs';
const terminalImage = global['opts']['img'] ? require('terminal-image') : '', urlRegex = (await import('url-regex-safe'))[_0x1a074c(0xbb)]({ 'strict': !![] }), MAX_MESSAGE_LENGTH = 0x190;
export default async function (m, conn = { 'user': {} }) {
    const _0x4eeaf4 = _0x1a074c, SQnEXS = {
            'SHUQd': _0x4eeaf4(0x9b),
            'aKJjT': 'bold',
            'fVbns': _0x4eeaf4(0xee),
            'KWtYY': _0x4eeaf4(0xf9),
            'jITDG': function (x, y) {
                return x || y;
            },
            'cDkgd': function (x, y) {
                return x < y;
            },
            'VaoJb': function (callee, param1) {
                return callee(param1);
            },
            'pSiRS': function (x, y) {
                return x + y;
            },
            'cgehE': function (x, y) {
                return x !== y;
            },
            'QUbYA': _0x4eeaf4(0xcb),
            'jxROK': '@s.whatsapp.net',
            'twSJN': function (x, y) {
                return x + y;
            },
            'lcMYz': 'international',
            'SVYyE': function (x, y) {
                return x + y;
            },
            'DCyPa': _0x4eeaf4(0xaf),
            'PKYEf': _0x4eeaf4(0xdd),
            'HQJTk': 'üìù\x20Update\x20\x27lib/print.js\x27\x20detected.\x20Reloading...'
        };
    try {
        if (!m || !m[_0x4eeaf4(0xd3)]) {
            console['error'](_0x4eeaf4(0xcc));
            return;
        }
        const key = m[_0x4eeaf4(0xd3)][_0x4eeaf4(0xe9)];
        if (typeof key !== _0x4eeaf4(0xcb) && typeof key !== _0x4eeaf4(0xc4)) {
            console[_0x4eeaf4(0xb0)]('‚ùå\x20Invalid\x20key\x20type.\x20Expected\x20string\x20or\x20number,\x20found:\x20' + typeof key);
            return;
        }
        const senderMasked = m[_0x4eeaf4(0xd3)][_0x4eeaf4(0xf8)] || _0x4eeaf4(0x100), chatMasked = m[_0x4eeaf4(0xd3)][_0x4eeaf4(0xe9)] || _0x4eeaf4(0x100);
        let img;
        try {
            global['opts'][_0x4eeaf4(0xb7)] && (img = /sticker|image/gi[_0x4eeaf4(0xb8)](m[_0x4eeaf4(0xb2)]) ? await terminalImage[_0x4eeaf4(0xf5)](await m[_0x4eeaf4(0xfd)]()) : ![]);
        } catch (e) {
            console[_0x4eeaf4(0xb0)](_0x4eeaf4(0x102), e[_0x4eeaf4(0xe5)] || e);
        }
        const filesize = (m[_0x4eeaf4(0xd9)] ? m[_0x4eeaf4(0xd9)][_0x4eeaf4(0x104)] ? m[_0x4eeaf4(0xd9)][_0x4eeaf4(0x104)]['length'] : m[_0x4eeaf4(0xd9)]['fileLength'] ? m[_0x4eeaf4(0xd9)][_0x4eeaf4(0xdb)]['low'] || m[_0x4eeaf4(0xd9)][_0x4eeaf4(0xdb)] : m[_0x4eeaf4(0xd9)][_0x4eeaf4(0xca)] ? m[_0x4eeaf4(0xd9)][_0x4eeaf4(0xca)][_0x4eeaf4(0xbc)] : m['text'] ? m[_0x4eeaf4(0xc8)][_0x4eeaf4(0xbc)] : 0x0 : m[_0x4eeaf4(0xc8)] ? m[_0x4eeaf4(0xc8)][_0x4eeaf4(0xbc)] : 0x0) || 0x0, _name = await conn[_0x4eeaf4(0xf1)](m[_0x4eeaf4(0xa2)]), sender = _0x3b8dcc('+' + m['sender'][_0x4eeaf4(0xa3)](_0x4eeaf4(0xfc), ''))[_0x4eeaf4(0xdf)]('international') + (_name ? '\x20~' + _name : ''), chat = await conn[_0x4eeaf4(0xf1)](m[_0x4eeaf4(0xd5)]), user = global['db'][_0x4eeaf4(0xb3)]['users'][m[_0x4eeaf4(0xa2)]], me = _0x3b8dcc('+' + (conn[_0x4eeaf4(0xf4)]?.[_0x4eeaf4(0xae)] || '')['replace'](_0x4eeaf4(0xfc), ''))[_0x4eeaf4(0xdf)](_0x4eeaf4(0xd4));
        console['log']((_0x4eeaf4(0x101) + _0x2b4938[_0x4eeaf4(0xf2)](_0x4eeaf4(0xaa))[_0x4eeaf4(0xe0)]('PRINCE\x20MD\x20[BOT\x20SYSTEM]') + _0x4eeaf4(0xd1) + _0x2b4938[_0x4eeaf4(0xa7)](new Date()[_0x4eeaf4(0xea)](_0x4eeaf4(0xe8), {
            'timeZone': _0x4eeaf4(0xa4),
            'hour12': ![]
        })) + _0x4eeaf4(0xe6) + _0x2b4938[_0x4eeaf4(0xe1)](chatMasked) + '\x0aüì¶\x20File\x20Size:\x20' + _0x2b4938[_0x4eeaf4(0x9f)](filesize + 'B') + _0x4eeaf4(0xda) + _0x2b4938[_0x4eeaf4(0xbe)](senderMasked) + _0x4eeaf4(0x9d) + _0x2b4938[_0x4eeaf4(0xce)](m['mtype'] || 'UNKNOWN') + _0x4eeaf4(0xa9))['trim']());
        if (img)
            console[_0x4eeaf4(0xfa)]('üì∏\x20Image\x20received:', img[_0x4eeaf4(0x109)]());
        if (typeof m[_0x4eeaf4(0xc8)] === _0x4eeaf4(0xcb) && m[_0x4eeaf4(0xc8)]) {
            let log = m[_0x4eeaf4(0xc8)][_0x4eeaf4(0xa3)](/\u200e+/g, _0x4eeaf4(0x100));
            const mdRegex = /(?<=(?:^|[\s\n])\S?)(?:([*_~`])(?!`)(.+?)\1|```((?:.|[\n\r])+?)```|`([^`]+?)`)(?=\S?(?:[\s\n]|$))/g, mdFormat = (depth = 0x4) => (_, type, text, monospace) => {
                    const _0x49cad1 = _0x4eeaf4, types = {
                            '_': SQnEXS[_0x49cad1(0xa0)],
                            '*': SQnEXS[_0x49cad1(0xd8)],
                            '~': SQnEXS[_0x49cad1(0xf6)],
                            '`': SQnEXS[_0x49cad1(0xd6)]
                        };
                    text = SQnEXS[_0x49cad1(0xe7)](text, monospace);
                    const formatted = !types[type] || SQnEXS[_0x49cad1(0xcf)](depth, 0x1) ? text : _0x2b4938[types[type]](text[_0x49cad1(0xa3)](/`/g, '')[_0x49cad1(0xa3)](mdRegex, SQnEXS[_0x49cad1(0xef)](mdFormat, depth - 0x1)));
                    return formatted;
                };
            log['length'] > MAX_MESSAGE_LENGTH && (log = log[_0x4eeaf4(0xad)](0x0, MAX_MESSAGE_LENGTH) + '\x0a' + _0x2b4938[_0x4eeaf4(0x106)](_0x4eeaf4(0x103)));
            log = log['split']('\x0a')[_0x4eeaf4(0xf0)](line => {
                const _0x30e70a = _0x4eeaf4, vpZQxd = {
                        'HnROu': function (x, y) {
                            const _0x2c5834 = _0x31f7;
                            return SQnEXS[_0x2c5834(0xa6)](x, y);
                        }
                    };
                if (line['trim']()[_0x30e70a(0x9e)]('>'))
                    return _0x2b4938[_0x30e70a(0xf9)]['dim'](line[_0x30e70a(0xa3)](/^>/, '‚îÉ'));
                else {
                    if (/^([1-9]|[1-9][0-9])\./[_0x30e70a(0xb8)](line[_0x30e70a(0x107)]()))
                        return line[_0x30e70a(0xa3)](/^(\d+)\./, (match, number) => {
                            const _0x48da9b = _0x30e70a, padding = number[_0x48da9b(0xbc)] === 0x1 ? '\x20\x20' : '\x20';
                            return vpZQxd[_0x48da9b(0xfb)](vpZQxd[_0x48da9b(0xfb)](padding, number), '.');
                        });
                    else {
                        if (/^[-*]\s/[_0x30e70a(0xb8)](line[_0x30e70a(0x107)]()))
                            return line[_0x30e70a(0xa3)](/^[*-]/, '\x20\x20‚Ä¢');
                    }
                }
                return line;
            })['join']('\x0a'), log = log[_0x4eeaf4(0xa3)](urlRegex, url => _0x2b4938[_0x4eeaf4(0xe1)]('MASKED\x20URL')), log = log[_0x4eeaf4(0xa3)](mdRegex, mdFormat(0x4));
            if (m[_0x4eeaf4(0xe4)])
                for (const user of m[_0x4eeaf4(0xe4)]) {
                    const userString = typeof user === _0x4eeaf4(0xcb) ? user : user[_0x4eeaf4(0xae)] || user[_0x4eeaf4(0xcd)] || user['id'] || '';
                    if (userString) {
                        const username = await conn[_0x4eeaf4(0xf1)](userString);
                        log = log[_0x4eeaf4(0xa3)]('@' + userString[_0x4eeaf4(0x105)]('@')[0x0], _0x2b4938[_0x4eeaf4(0xe1)]('@' + username));
                    }
                }
            console[_0x4eeaf4(0xfa)](m[_0x4eeaf4(0xb0)] != null ? _0x2b4938['red'](_0x4eeaf4(0xc1) + log) : m['isCommand'] ? _0x2b4938[_0x4eeaf4(0xce)](_0x4eeaf4(0xb5) + _0x4eeaf4(0xa8)) : _0x4eeaf4(0xeb) + log);
        }
        m[_0x4eeaf4(0xac)] && console[_0x4eeaf4(0xfa)](m[_0x4eeaf4(0xac)][_0x4eeaf4(0xf0)](jid => {
            const _0x2d032a = _0x4eeaf4;
            try {
                if (!jid || SQnEXS[_0x2d032a(0xa1)](typeof jid, SQnEXS[_0x2d032a(0xc2)]))
                    return '';
                const decodedJid = conn[_0x2d032a(0xb9)](jid);
                if (!decodedJid)
                    return '';
                const name = conn[_0x2d032a(0xf1)](decodedJid) || '', phoneNumber = decodedJid['replace'](SQnEXS[_0x2d032a(0xbd)], '');
                let formattedNumber = '';
                try {
                    formattedNumber = _0x3b8dcc(SQnEXS[_0x2d032a(0xd2)]('+', phoneNumber))[_0x2d032a(0xdf)](SQnEXS[_0x2d032a(0xc6)]) || phoneNumber;
                } catch {
                    formattedNumber = phoneNumber;
                }
                return _0x2b4938[_0x2d032a(0xc0)](SQnEXS[_0x2d032a(0xd2)](SQnEXS[_0x2d032a(0xb4)](SQnEXS[_0x2d032a(0x108)], formattedNumber), name ? '\x20~' + name : ''));
            } catch (error) {
                return console[_0x2d032a(0xb0)](SQnEXS[_0x2d032a(0xde)], error[_0x2d032a(0xe5)] || error), '';
            }
        })['filter'](Boolean)['join'](',\x20'));
        if (/document/i[_0x4eeaf4(0xb8)](m[_0x4eeaf4(0xb2)]))
            console[_0x4eeaf4(0xfa)](_0x4eeaf4(0x9c) + (m[_0x4eeaf4(0xd9)]['fileName'] || m[_0x4eeaf4(0xd9)][_0x4eeaf4(0xdc)] || _0x4eeaf4(0xd7)));
        else {
            if (/ContactsArray/i[_0x4eeaf4(0xb8)](m['mtype']))
                console[_0x4eeaf4(0xfa)]('üë•\x20Contacts\x20received');
            else {
                if (/contact/i[_0x4eeaf4(0xb8)](m[_0x4eeaf4(0xb2)]))
                    console[_0x4eeaf4(0xfa)]('üë§\x20Contact\x20received:\x20' + (m['msg'][_0x4eeaf4(0xdc)] || ''));
                else {
                    if (/audio/i[_0x4eeaf4(0xb8)](m[_0x4eeaf4(0xb2)])) {
                        const duration = m['msg'][_0x4eeaf4(0xc5)] || 0x0;
                        console['log']('' + (m[_0x4eeaf4(0xd9)][_0x4eeaf4(0xf7)] ? _0x4eeaf4(0xab) : 'üé∂\x20(Audio)\x20') + Math['floor'](duration / 0x3c)[_0x4eeaf4(0xc7)]()['padStart'](0x2, '0') + ':' + (duration % 0x3c)[_0x4eeaf4(0xc7)]()[_0x4eeaf4(0xfe)](0x2, '0'));
                    }
                }
            }
        }
    } catch (err) {
        console['error'](_0x4eeaf4(0xb6), err[_0x4eeaf4(0xe5)] || err);
    }
    console['log']();
    const file = global[_0x4eeaf4(0xbf)](import.meta.url);
    watchFile(file, () => {
        const _0x21839c = _0x4eeaf4;
        console[_0x21839c(0xfa)](_0x2b4938[_0x21839c(0xbe)](SQnEXS[_0x21839c(0xba)]));
    });
}
