(function(_0x5dedf4,_0x504309){const _0x218436=_0x1c7f,_0x174bae=_0x5dedf4();while(!![]){try{const _0x465d91=parseInt(_0x218436(0x10e))/0x1*(-parseInt(_0x218436(0x10f))/0x2)+-parseInt(_0x218436(0x110))/0x3*(-parseInt(_0x218436(0x111))/0x4)+parseInt(_0x218436(0x112))/0x5+parseInt(_0x218436(0x113))/0x6*(-parseInt(_0x218436(0x114))/0x7)+parseInt(_0x218436(0x115))/0x8+-parseInt(_0x218436(0x116))/0x9*(parseInt(_0x218436(0x117))/0xa)+parseInt(_0x218436(0x118))/0xb;if(_0x465d91===_0x504309)break;else _0x174bae['push'](_0x174bae['shift']());}catch(_0x1c9ea2){_0x174bae['push'](_0x174bae['shift']());}}}(_0xa9d8,0xdf4bf),process['env']['NODE_TLS_REJECT_UNAUTHORIZED']='0');import'./config.js';import'./plugins/_prince.js';import _0x1d587c from'dotenv';import{createRequire}from'module';import _0x54216d,{join}from'path';import{fileURLToPath,pathToFileURL}from'url';import{platform}from'process';import*as _0x4d36c1 from'ws';import _0x276311,{watchFile,unwatchFile,writeFileSync,readdirSync,statSync,unlinkSync,existsSync,readFileSync,copyFileSync,watch,rmSync,mkdirSync,rename}from'fs';import{readdir,stat,unlink}from'fs/promises';import _0x36a91a from'yargs';import{spawn}from'child_process';import _0x40b6d3 from'lodash';import _0xaa97e1 from'chalk';import _0x22731e from'syntax-error';function _0xa9d8(){const _0xb68045=['131178aywUki','102681GfXFoE','64xfizQY','7797490mYXitU','48fBxXfZ','1591562ujVeWa','3450336DMCmYh','9shucVy','12190110wRHBtC','20605893hlSTky','7oMdTCx'];_0xa9d8=function(){return _0xb68045;};return _0xa9d8();}import{tmpdir}from'os';import{format}from'util';import{makeWASocket,protoType,serialize}from'./lib/simple.js';import{gataJadiBot}from'./plugins/bebot-bebot.js';import{Low,JSONFile}from'lowdb';import _0x1c1890 from'pino';import _0x1b6284 from'pino';import _0x17dfa0 from'p-queue';import _0x5575eb from'@seald-io/nedb';import _0x500a17 from'./lib/store.js';import{Boom}from'@hapi/boom';import _0x580f4e from'moment-timezone';import _0x97d766 from'node-cache';import _0x3c6155 from'readline';import _0x2764bc from'google-libphonenumber';const {PhoneNumberUtil}=_0x2764bc,phoneUtil=PhoneNumberUtil['getInstance']();import _0x5e4917 from'./lib/princesession.js';const {DisconnectReason,useMultiFileAuthState,MessageRetryMap,fetchLatestBaileysVersion,makeCacheableSignalKeyStore,makeInMemoryStore,proto,delay,jidNormalizedUser,PHONENUMBER_MCC,Browsers}=await(await import('@whiskeysockets/baileys'))['default'];_0x1d587c['config']();async function main(){const _0x4de65c=process['env']['SESSION_ID'];if(!_0x4de65c){console['error']('SESSION_ID\x20variable\x20not\x20found.');return;}try{await _0x5e4917(_0x4de65c),console['log']('Prince\x20session\x20Saved\x20Successfully...âœ”ï¸');}catch(_0x8189eb){console['error']('Error\x20in\x20main:',_0x8189eb['message']);}}main(),await delay(0x3e8*0xa);const {CONNECTING}=_0x4d36c1,{chain}=_0x40b6d3,PORT=process['env']['PORT']||process['env']['SERVER_PORT']||0xbb8;protoType(),serialize(),global['__filename']=function filename(_0x25365c=import.meta.url,_0x5bad02=platform!=='win32'){return _0x5bad02?/file:\/\/\//['test'](_0x25365c)?fileURLToPath(_0x25365c):_0x25365c:pathToFileURL(_0x25365c)['toString']();},global['__dirname']=function dirname(_0x3256d6){return _0x54216d['dirname'](global['__filename'](_0x3256d6,!![]));},global['__require']=function require(_0x4d518f=import.meta.url){return createRequire(_0x4d518f);},global['API']=(_0x1312f9,_0x36a8d3='/',_0x565d36={},_0x4f2483)=>(_0x1312f9 in global['APIs']?global['APIs'][_0x1312f9]:_0x1312f9)+_0x36a8d3+(_0x565d36||_0x4f2483?'?'+new URLSearchParams(Object['entries']({..._0x565d36,..._0x4f2483?{[_0x4f2483]:global['APIKeys'][_0x1312f9 in global['APIs']?global['APIs'][_0x1312f9]:_0x1312f9]}:{}})):''),global['timestamp']={'start':new Date()};const __dirname=global['__dirname'](import.meta.url);global['opts']=new Object(_0x36a91a(process['argv']['slice'](0x2))['exitProcess'](![])['parse']()),global['prefix']=new RegExp('^['+(process['env']['PREFIX']||'â€Žz/i!#$%+Â£Â¢â‚¬Â¥^Â°=Â¶âˆ†Ã—Ã·Ï€âˆšâœ“Â©Â®:;?&.,\x5c-')['replace'](/[|\\{}()[\]^$+*?.\-\^]/g,'\x5c$&')+']');const dbPath=_0x54216d['join'](__dirname,'database');if(!_0x276311['existsSync'](dbPath))_0x276311['mkdirSync'](dbPath);const collections={'users':new _0x5575eb({'filename':_0x54216d['join'](dbPath,'users.db'),'autoload':!![]}),'chats':new _0x5575eb({'filename':_0x54216d['join'](dbPath,'chats.db'),'autoload':!![]}),'settings':new _0x5575eb({'filename':_0x54216d['join'](dbPath,'settings.db'),'autoload':!![]}),'msgs':new _0x5575eb({'filename':_0x54216d['join'](dbPath,'msgs.db'),'autoload':!![]}),'sticker':new _0x5575eb({'filename':_0x54216d['join'](dbPath,'sticker.db'),'autoload':!![]}),'stats':new _0x5575eb({'filename':_0x54216d['join'](dbPath,'stats.db'),'autoload':!![]})};Object['values'](collections)['forEach'](_0x19cd3c=>{_0x19cd3c['setAutocompactionInterval'](0x493e0);}),global['db']={'data':{'users':{},'chats':{},'settings':{},'msgs':{},'sticker':{},'stats':{}}};function sanitizeId(_0x146389){return _0x146389['replace'](/\./g,'_');}function unsanitizeId(_0x4204e3){return _0x4204e3['replace'](/_/g,'.');}function sanitizeObject(_0xf5c750){const _0x41c841={};for(const [_0x7992ea,_0x1b8eba]of Object['entries'](_0xf5c750)){const _0x4a433d=_0x7992ea['replace'](/\./g,'_');_0x41c841[_0x4a433d]=typeof _0x1b8eba==='object'&&_0x1b8eba!==null?sanitizeObject(_0x1b8eba):_0x1b8eba;}return _0x41c841;}function unsanitizeObject(_0x5180ec){const _0x76c394={};for(const [_0x24f8bc,_0x25c8de]of Object['entries'](_0x5180ec)){const _0x54ba01=_0x24f8bc['replace'](/_/g,'.');_0x76c394[_0x54ba01]=typeof _0x25c8de==='object'&&_0x25c8de!==null?unsanitizeObject(_0x25c8de):_0x25c8de;}return _0x76c394;}global['db']['readData']=async function(_0x4b00b8,_0x4a7fa4){const _0x2839e8=sanitizeId(_0x4a7fa4);if(!global['db']['data'][_0x4b00b8][_0x2839e8]){const _0x51c870=await new Promise((_0x55f56a,_0x1abed3)=>{collections[_0x4b00b8]['findOne']({'_id':_0x2839e8},(_0x1d157c,_0x5dcb12)=>{if(_0x1d157c)return _0x1abed3(_0x1d157c);_0x55f56a(_0x5dcb12?unsanitizeObject(_0x5dcb12['data']):{});});});global['db']['data'][_0x4b00b8][_0x2839e8]=_0x51c870;}return global['db']['data'][_0x4b00b8][_0x2839e8];},global['db']['writeData']=async function(_0x48b204,_0x4eff7e,_0x826c9){const _0x156e86=sanitizeId(_0x4eff7e);global['db']['data'][_0x48b204][_0x156e86]={...global['db']['data'][_0x48b204][_0x156e86],...sanitizeObject(_0x826c9)},await new Promise((_0x463c34,_0x3d297d)=>{collections[_0x48b204]['update']({'_id':_0x156e86},{'$set':{'data':sanitizeObject(global['db']['data'][_0x48b204][_0x156e86])}},{'upsert':!![]},_0x256ea2=>{if(_0x256ea2)return _0x3d297d(_0x256ea2);_0x463c34();});});},global['db']['loadDatabase']=async function(){const _0x3c267c=Object['keys'](collections)['map'](async _0x44aa39=>{const _0x356e70=await new Promise((_0x11e417,_0x3d4655)=>{collections[_0x44aa39]['find']({},(_0x2aa224,_0x33cee5)=>{if(_0x2aa224)return _0x3d4655(_0x2aa224);_0x11e417(_0x33cee5);});}),_0x567d56=new Set();for(const _0x444c74 of _0x356e70){const _0x1baffa=unsanitizeId(_0x444c74['_id']);if(_0x567d56['has'](_0x1baffa))await new Promise((_0x429d7b,_0x2ec257)=>{collections[_0x44aa39]['remove']({'_id':_0x444c74['_id']},{},_0x490cff=>{if(_0x490cff)return _0x2ec257(_0x490cff);_0x429d7b();});});else{_0x567d56['add'](_0x1baffa);if(_0x44aa39==='users'&&(_0x1baffa['includes']('@newsletter')||_0x1baffa['includes']('lid')))continue;if(_0x44aa39==='chats'&&_0x1baffa['includes']('@newsletter'))continue;global['db']['data'][_0x44aa39][_0x1baffa]=unsanitizeObject(_0x444c74['data']);}}});await Promise['all'](_0x3c267c);},global['db']['save']=async function(){const _0x284eac=[];for(const _0x112b51 of Object['keys'](global['db']['data'])){for(const [_0xc56e41,_0xc06d03]of Object['entries'](global['db']['data'][_0x112b51])){if(Object['keys'](_0xc06d03)['length']>0x0){if(_0x112b51==='users'&&(_0xc56e41['includes']('@newsletter')||_0xc56e41['includes']('lid')))continue;if(_0x112b51==='chats'&&_0xc56e41['includes']('@newsletter'))continue;_0x284eac['push'](new Promise((_0x38b574,_0x299678)=>{collections[_0x112b51]['update']({'_id':sanitizeId(_0xc56e41)},{'$set':{'data':sanitizeObject(_0xc06d03)}},{'upsert':!![]},_0x393d49=>{if(_0x393d49)return _0x299678(_0x393d49);_0x38b574();});}));}}}await Promise['all'](_0x284eac);},global['db']['loadDatabase']()['then'](()=>{console['log']('Database\x20is\x20ready');})['catch'](_0xd6d540=>{console['error']('Database\x20loading\x20error:',_0xd6d540);});async function gracefulShutdown(){await global['db']['save'](),console['log']('Saving\x20Database\x20Before\x20Closing...'),process['exit'](0x0);}process['on']('SIGINT',gracefulShutdown),process['on']('SIGTERM',gracefulShutdown),global['creds']='creds.json',global['authFile']='sessions',global['authFileJB']='bebots',global['rutaBot']=join(__dirname,authFile),global['rutaJadiBot']=join(__dirname,authFileJB);const respaldoDir=join(__dirname,'BackupSession'),credsFile=join(global['rutaBot'],global['creds']),backupFile=join(respaldoDir,global['creds']);!_0x276311['existsSync'](rutaJadiBot)&&_0x276311['mkdirSync'](rutaJadiBot);if(!_0x276311['existsSync'](respaldoDir))_0x276311['mkdirSync'](respaldoDir);const {state,saveState,saveCreds}=await useMultiFileAuthState(global['authFile']),msgRetryCounterMap=new Map(),msgRetryCounterCache=new _0x97d766({'stdTTL':0x0,'checkperiod':0x0}),userDevicesCache=new _0x97d766({'stdTTL':0x0,'checkperiod':0x0}),{version}=await fetchLatestBaileysVersion();let phoneNumber=global['botNumberCode'];const methodCodeQR=process['argv']['includes']('qr'),methodCode=!!phoneNumber||process['argv']['includes']('code'),MethodMobile=process['argv']['includes']('mobile');let rl=_0x3c6155['createInterface']({'input':process['stdin'],'output':process['stdout'],'terminal':!![]});const question=_0x5322bf=>{return rl['clearLine'](rl['input'],0x0),new Promise(_0x3abb6f=>{rl['question'](_0x5322bf,_0x44eb03=>{rl['clearLine'](rl['input'],0x0),_0x3abb6f(_0x44eb03['trim']());});});};let opcion;methodCodeQR&&(opcion='1');if(!methodCodeQR&&!methodCode&&!_0x276311['existsSync']('./'+authFile+'/creds.json'))do{let lineM='â‹¯\x20â‹¯\x20â‹¯\x20â‹¯\x20â‹¯\x20â‹¯\x20â‹¯\x20â‹¯\x20â‹¯\x20â‹¯\x20â‹¯\x20ã€‹';opcion=await question('â•­'+lineM+'\x20\x20\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â•­â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…')+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['blue']['bgBlue']['bold']['cyan'](mid['methodCode1'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â•°â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…')+'\x20\x20\x20\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â•­â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…')+'\x20\x20\x20\x20\x20\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['green']['bgMagenta']['bold']['yellow'](mid['methodCode2'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['bold']['redBright']('â‡¢\x20\x20'+mid['methodCode3']+'\x201:')+'\x20'+_0xaa97e1['greenBright'](mid['methodCode4'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['bold']['redBright']('â‡¢\x20\x20'+mid['methodCode3']+'\x202:')+'\x20'+_0xaa97e1['greenBright'](mid['methodCode5'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â•°â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…')+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â•­â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…')+'\x20\x20\x20\x20\x20\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['italic']['magenta'](mid['methodCode6'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['italic']['magenta'](mid['methodCode7'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â•°â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…')+'\x20\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â•­â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…')+'\x20\x20\x20\x20\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['red']['bgRed']['bold']['green'](mid['methodCode8'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['italic']['cyan'](mid['methodCode9'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['italic']['cyan'](mid['methodCode10'])+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['bold']['yellow']('npm\x20run\x20qr\x20'+_0xaa97e1['italic']['magenta']('('+mid['methodCode12']+')'))+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['bold']['yellow']('npm\x20run\x20code\x20'+_0xaa97e1['italic']['magenta']('('+mid['methodCode13']+')'))+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â”Š')+'\x20'+_0xaa97e1['bold']['yellow']('npm\x20start\x20'+_0xaa97e1['italic']['magenta']('('+mid['methodCode14']+')'))+'\x0aâ”Š\x20'+_0xaa97e1['blueBright']('â•°â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…â”…')+'\x20\x0aâ•°'+lineM+'\x0a'+_0xaa97e1['bold']['magentaBright']('--->\x20')),!/^[1-2]$/['test'](opcion)&&console['log'](_0xaa97e1['bold']['redBright'](mid['methodCode11'](_0xaa97e1)));}while(opcion!=='1'&&opcion!=='2'||_0x276311['existsSync']('./'+authFile+'/creds.json'));const filterStrings=['Q2xvc2luZyBzdGFsZSBvcGVu','Q2xvc2luZyBvcGVuIHNlc3Npb24=','RmFpbGVkIHRvIGRlY3J5cHQ=','U2Vzc2lvbiBlcnJvcg==','RXJyb3I6IEJhZCBNQUM=','RGVjcnlwdGVkIG1lc3NhZ2U='];console['info']=()=>{},console['debug']=()=>{},['log','warn','error']['forEach'](_0x5784aa=>redefineConsoleMethod(_0x5784aa,filterStrings));const connectionOptions={'logger':_0x1c1890({'level':'silent'}),'printQRInTerminal':opcion=='1'?!![]:methodCodeQR?!![]:![],'mobile':MethodMobile,'browser':opcion=='1'?['PRINCEAI','Edge','20.0.04']:methodCodeQR?['PRINCEAI','Edge','20.0.04']:['Ubuntu','Chrome','20.0.04'],'auth':{'creds':state['creds'],'keys':makeCacheableSignalKeyStore(state['keys'],_0x1b6284({'level':'fatal'})['child']({'level':'fatal'}))},'markOnlineOnConnect':!![],'generateHighQualityLinkPreview':!![],'syncFullHistory':![],'getMessage':async _0x5e22ac=>{try{let _0x279122=jidNormalizedUser(_0x5e22ac['remoteJid']),_0x230d3b=await _0x500a17['loadMessage'](_0x279122,_0x5e22ac['id']);return _0x230d3b?.['message']||'';}catch(_0x4e456c){return'';}},'msgRetryCounterCache':msgRetryCounterCache||new Map(),'userDevicesCache':userDevicesCache||new Map(),'defaultQueryTimeoutMs':undefined,'cachedGroupMetadata':_0xb98c57=>global['conn']['chats'][_0xb98c57]??{},'version':version,'defaultQueryTimeoutMs':0x7530,'keepAliveIntervalMs':0xd6d8,'maxIdleTimeMs':0xea60};global['conn']=makeWASocket(connectionOptions);if(!_0x276311['existsSync']('./'+authFile+'/creds.json')){if(opcion==='2'||methodCode){opcion='2';if(!conn['authState']['creds']['registered']){let addNumber;if(!!phoneNumber)addNumber=phoneNumber['replace'](/[^0-9]/g,'');else{do{phoneNumber=await question(_0xaa97e1['bgBlack'](_0xaa97e1['bold']['greenBright'](mid['phNumber2'](_0xaa97e1)))),phoneNumber=phoneNumber['replace'](/\D/g,''),!phoneNumber['startsWith']('+')&&(phoneNumber='+'+phoneNumber);}while(!await isValidPhoneNumber(phoneNumber));rl['close'](),addNumber=phoneNumber['replace'](/\D/g,''),setTimeout(async()=>{let _0x2badeb=await conn['requestPairingCode'](addNumber);_0x2badeb=_0x2badeb?.['match'](/.{1,4}/g)?.['join']('-')||_0x2badeb,console['log'](_0xaa97e1['bold']['white'](_0xaa97e1['bgMagenta'](mid['pairingCode'])),_0xaa97e1['bold']['white'](_0xaa97e1['white'](_0x2badeb)));},0x7d0);}}}}conn['isInit']=![],conn['well']=![];if(!opts['test']){if(global['db'])setInterval(async()=>{if(global['db']['data'])await global['db']['save']();if(opts['autocleartmp']&&(global['support']||{})['find'])tmp=[os['tmpdir'](),'tmp','bebots'],tmp['forEach'](_0x115f2b=>cp['spawn']('find',[_0x115f2b,'-amin','2','-type','f','-delete']));},0x1e*0x3e8);}if(opts['server'])(await import('./server.js'))['default'](global['conn'],PORT);const backupCreds=async()=>{if(!_0x276311['existsSync'](credsFile)){console['log'](await tr('[âš ]\x20File\x20not\x20found\x20creds.json\x20to\x20backup.'));return;}const _0x4c97c0=new Date()['toISOString']()['replace'](/[:.]/g,'-'),_0x229c80=join(respaldoDir,'creds-'+_0x4c97c0+'.json');_0x276311['copyFileSync'](credsFile,_0x229c80),console['log']('[âœ…]\x20Backup\x20created:\x20'+_0x229c80);const _0xeb9544=_0x276311['readdirSync'](respaldoDir)['filter'](_0x12d059=>_0x12d059['startsWith']('creds-')&&_0x12d059['endsWith']('.json'))['sort']((_0x1222f5,_0x1e932d)=>_0x276311['statSync'](join(respaldoDir,_0x1222f5))['mtimeMs']-_0x276311['statSync'](join(respaldoDir,_0x1e932d))['mtimeMs']);while(_0xeb9544['length']>0x3){const _0x3c7b91=_0xeb9544['shift']();_0x276311['unlinkSync'](join(respaldoDir,_0x3c7b91)),console['log']('[ðŸ—‘ï¸]\x20Old\x20backup\x20deleted:\x20'+_0x3c7b91);}},restoreCreds=async()=>{const _0x1bde19=_0x276311['readdirSync'](respaldoDir)['filter'](_0x264014=>_0x264014['startsWith']('creds-')&&_0x264014['endsWith']('.json'))['sort']((_0x51fed3,_0xa9609b)=>_0x276311['statSync'](join(respaldoDir,_0xa9609b))['mtimeMs']-_0x276311['statSync'](join(respaldoDir,_0x51fed3))['mtimeMs']);if(_0x1bde19['length']===0x0){console['log']('[âš ]\x20No\x20backups\x20available\x20to\x20restore.');return;}const _0x5c183c=join(respaldoDir,_0x1bde19[0x0]);_0x276311['copyFileSync'](_0x5c183c,credsFile),console['log']('[âœ…]\x20Restored\x20from\x20backup:\x20'+_0x1bde19[0x0]);};setInterval(async()=>{await backupCreds(),console['log']('[â™»ï¸]\x20Periodic\x20support\x20made.');},0x5*0x3c*0x3e8),global['botlive']=process['env']['MODE'],conn['isMessageSent']=![];async function connectionUpdate(_0x5dac6d){const {connection:_0x541895,lastDisconnect:_0x5b0fa5,isNewLogin:_0x4153ef}=_0x5dac6d;global['stopped']=_0x541895;if(_0x4153ef)conn['isInit']=!![];const _0x346e97=_0x5b0fa5?.['error']?.['output']?.['statusCode']||_0x5b0fa5?.['error']?.['output']?.['payload']?.['statusCode'];_0x346e97&&_0x346e97!==DisconnectReason['loggedOut']&&conn?.['ws']['socket']==null&&(await global['reloadHandler'](!![])['catch'](console['error']),global['timestamp']['connect']=new Date());if(global['db']['data']==null)loadDatabase();if(_0x541895==='open'&&!conn['isMessageSent']){await joinChannels(conn);const {jid:_0x392c0f,name:_0x1ddc5b}=conn['user'];let _0x4f39fc='âœðŸ»\x20PRINCE\x20-\x20MD\x20âœðŸ»\x0a\x0aâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“\x0aâ”ƒ\x20âœ…\x20Ê™á´á´›\x20Éªs\x20á´É´ÊŸÉªÉ´á´‡\x20\x0aâ”ƒ\x20ðŸŒ\x20á´á´á´…á´‡:\x20\x20'+botlive+'\x0aâ”ƒ\x20âŒ¨ï¸\x20á´˜Ê€á´‡Ò“Éªx:\x20\x20'+prefix+'\x0aâ”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›\x0a\x0aðŸ’Ž\x20ÉªÒ“\x20Êá´á´œ\x20ÊŸÉªá´‹á´‡\x20á´›Êœá´‡\x20Ê™á´á´›\x20â†’\x20É¢Éªá´ á´‡\x20á´€\x20â­\x0a\x0aðŸ‘¨â€ðŸ’»\x20á´…á´‡á´ á´‡ÊŸá´á´˜á´‡Ê€\x20á´„á´É´á´›á´€á´„á´›:\x20\x20\x0aðŸ‘‰\x20https://wa.me/message/DCAK67ON3XVOG1\x20\x20\x0a\x0aðŸ“¢\x20á´Ò“Ò“Éªá´„Éªá´€ÊŸ\x20á´„Êœá´€É´É´á´‡ÊŸ:\x20\x20\x0aðŸ‘‰\x20https://whatsapp.com/channel/0029VaKNbWkKbYMLb61S1v11\x20\x20\x0a\x0aðŸ’Œ\x20ENJOY\x20USING\x20PRINCE\x20BOT';await conn['sendMessage'](_0x392c0f,{'text':_0x4f39fc,'mentions':[_0x392c0f]},{'quoted':null}),console['log'](_0xaa97e1['bold']['greenBright']('\x0aâ–£â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·Â·Â·\x0aâ”‚\x0aâ”‚â§\x20Successfully\x20connected\x20to\x20WhatsApp.\x20âœ…\x0aâ”‚\x0aâ–£â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â·Â·Â·')),conn['isMessageSent']=!![];}let _0x4059d8=new Boom(_0x5b0fa5?.['error'])?.['output']?.['statusCode'];if(_0x541895==='close'){if(_0x4059d8===DisconnectReason['badSession'])conn['logger']['error']('[\x20âš \x20]\x20Session\x20error,\x20please\x20re-pair\x20using\x20QR\x20code\x20or\x20pairing\x20code.');else{if(_0x4059d8===DisconnectReason['connectionClosed'])conn['logger']['warn']('[\x20âš \x20]\x20Connection\x20closed,\x20reconnecting...'),await global['reloadHandler'](!![])['catch'](console['error']);else{if(_0x4059d8===DisconnectReason['connectionLost'])conn['logger']['warn']('[\x20âš \x20]\x20Connection\x20lost,\x20reconnecting...'),await global['reloadHandler'](!![])['catch'](console['error']);else{if(_0x4059d8===DisconnectReason['connectionReplaced'])conn['logger']['error']('[\x20âš \x20]\x20Connection\x20replaced,\x20please\x20log\x20out\x20other\x20sessions.');else{if(_0x4059d8===DisconnectReason['loggedOut'])conn['logger']['error']('[\x20âš \x20]\x20Logged\x20out,\x20please\x20re-pair\x20using\x20QR\x20code\x20or\x20pairing\x20code.');else{if(_0x4059d8===DisconnectReason['restartRequired'])conn['logger']['info']('[\x20âš \x20]\x20Restart\x20required,\x20restarting...'),await global['reloadHandler'](!![])['catch'](console['error']);else _0x4059d8===DisconnectReason['timedOut']?(conn['logger']['warn']('[\x20âš \x20]\x20Connection\x20timed\x20out,\x20reconnecting...'),await global['reloadHandler'](!![])['catch'](console['error'])):(conn['logger']['warn']('[\x20âš \x20]\x20Unknown\x20disconnect\x20reason:\x20'+(_0x4059d8||'')+':\x20'+(_0x541895||'')),await global['reloadHandler'](!![])['catch'](console['error']));}}}}}}}function _0x1c7f(_0x900afb,_0x5caf10){_0x900afb=_0x900afb-0x10e;const _0xa9d81d=_0xa9d8();let _0x1c7f9c=_0xa9d81d[_0x900afb];return _0x1c7f9c;}process['on']('uncaughtException',console['error']);let isInit=!![],handler=await import('./handler.js');global['reloadHandler']=async function(_0xf7302e){try{const _0x5a18aa=await import('./handler.js?update='+Date['now']())['catch'](console['error']);if(Object['keys'](_0x5a18aa||{})['length'])handler=_0x5a18aa;}catch(_0x343309){console['error'](_0x343309);}if(_0xf7302e){const _0x1ff230=global['conn']['chats'];try{global['conn']['ws']['close']();}catch{}conn['ev']['removeAllListeners'](),global['conn']=makeWASocket(connectionOptions,{'chats':_0x1ff230}),isInit=!![];}return!isInit&&(conn['ev']['off']('messages.upsert',conn['handler']),conn['ev']['off']('group-participants.update',conn['participantsUpdate']),conn['ev']['off']('groups.update',conn['groupsUpdate']),conn['ev']['off']('message.delete',conn['onDelete']),conn['ev']['off']('connection.update',conn['connectionUpdate']),conn['ev']['off']('creds.update',conn['credsUpdate'])),conn['welcome']='Hello\x20@user\x0aWelcome\x20to\x20@group',conn['bye']='Goodbye\x20@user',conn['spromote']='@user\x20Now\x20he\x20is\x20an\x20administrator',conn['sdemote']='@user\x20he\x20is\x20no\x20longer\x20an\x20administrator',conn['sDesc']='The\x20description\x20has\x20been\x20changed\x20to\x20\x0a@desc',conn['sSubject']='The\x20name\x20of\x20the\x20group\x20has\x20been\x20changed\x20to\x20\x0a@group',conn['sIcon']='The\x20group\x20icon\x20has\x20been\x20changed',conn['sRevoke']='The\x20group\x20link\x20has\x20been\x20changed\x20to\x20\x0a@revoke',conn['handler']=handler['handler']['bind'](global['conn']),conn['participantsUpdate']=handler['participantsUpdate']['bind'](global['conn']),conn['groupsUpdate']=handler['groupsUpdate']['bind'](global['conn']),conn['onDelete']=handler['deleteUpdate']['bind'](global['conn']),conn['connectionUpdate']=connectionUpdate['bind'](global['conn']),conn['credsUpdate']=saveCreds['bind'](global['conn'],!![]),conn['ev']['on']('messages.upsert',conn['handler']),conn['ev']['on']('group-participants.update',conn['participantsUpdate']),conn['ev']['on']('groups.update',conn['groupsUpdate']),conn['ev']['on']('message.delete',conn['onDelete']),conn['ev']['on']('connection.update',conn['connectionUpdate']),conn['ev']['on']('creds.update',conn['credsUpdate']),isInit=![],!![];};if(global['princebotclone']){const readRutaJadiBot=_0x276311['readdirSync'](rutaJadiBot);if(readRutaJadiBot['length']>0x0){const creds='creds.json';for(const gjbts of readRutaJadiBot){const botPath=_0x54216d['join'](rutaJadiBot,gjbts);if(_0x276311['lstatSync'](botPath)['isDirectory']()){const readBotPath=_0x276311['readdirSync'](botPath);readBotPath['includes'](creds)&&gataJadiBot({'pathGataJadiBot':botPath,'m':null,'conn':conn,'args':'','usedPrefix':'/','command':'serbot'});}}}}const pluginFolder=global['__dirname'](join(__dirname,'./plugins/index')),pluginFilter=_0x2eba01=>/\.js$/['test'](_0x2eba01);global['plugins']={};async function filesInit(){for(const _0x239a48 of readdirSync(pluginFolder)['filter'](pluginFilter)){try{const _0x4cca2b=global['__filename'](join(pluginFolder,_0x239a48)),_0x23e7c6=await import(_0x4cca2b);global['plugins'][_0x239a48]=_0x23e7c6['default']||_0x23e7c6;}catch(_0x37ee1b){conn['logger']['error'](_0x37ee1b),delete global['plugins'][_0x239a48];}}}filesInit()['then'](_0x1848e3=>Object['keys'](global['plugins']))['catch'](console['error']),global['reload']=async(_0xada259,_0xc23daa)=>{if(pluginFilter(_0xc23daa)){const _0x3b17d8=global['__filename'](join(pluginFolder,_0xc23daa),!![]);if(_0xc23daa in global['plugins']){if(existsSync(_0x3b17d8))conn['logger']['info']('\x20BE\x20UPDATED\x20-\x20\x27'+_0xc23daa+'\x27\x20SUCCESSFULLY');else return conn['logger']['warn']('A\x20FILE\x20WAS\x20DELETED\x20:\x20\x27'+_0xc23daa+'\x27'),delete global['plugins'][_0xc23daa];}else conn['logger']['info']('NEW\x20PLUGINS\x20DETECTED\x20:\x20\x27'+_0xc23daa+'\x27');const _0xa4c302=_0x22731e(readFileSync(_0x3b17d8),_0xc23daa,{'sourceType':'module','allowAwaitOutsideFunction':!![]});if(_0xa4c302)conn['logger']['error']('A\x20SYNTAX\x20ERROR\x20WAS\x20DETECTED\x20|\x20SYNTAX\x20ERROR\x20WHILE\x20LOADING\x20\x27'+_0xc23daa+'\x27\x0a'+format(_0xa4c302));else try{const _0x5161cf=await import(global['__filename'](_0x3b17d8)+'?update='+Date['now']());global['plugins'][_0xc23daa]=_0x5161cf['default']||_0x5161cf;}catch(_0x35e8ac){conn['logger']['error']('THERE\x20IS\x20AN\x20ERROR\x20REQUIRED\x20BY\x20THE\x20PLUGINS\x20\x27'+_0xc23daa+'\x0a'+format(_0x35e8ac)+'\x27');}finally{global['plugins']=Object['fromEntries'](Object['entries'](global['plugins'])['sort'](([_0xab2efc],[_0x26dbca])=>_0xab2efc['localeCompare'](_0x26dbca)));}}},Object['freeze'](global['reload']),watch(pluginFolder,global['reload']),await global['reloadHandler']();async function _quickTest(){const _0x1d3812=await Promise['all']([spawn('ffmpeg'),spawn('ffprobe'),spawn('ffmpeg',['-hide_banner','-loglevel','error','-filter_complex','color','-frames:v','1','-f','webp','-']),spawn('convert'),spawn('magick'),spawn('gm'),spawn('find',['--version'])]['map'](_0x588453=>{return Promise['race']([new Promise(_0x1416f6=>{_0x588453['on']('close',_0x2c57ed=>{_0x1416f6(_0x2c57ed!==0x7f);});}),new Promise(_0x2f7065=>{_0x588453['on']('error',_0x48ecbe=>_0x2f7065(![]));})]);})),[_0x374b93,_0x3bf8f1,_0x37bc38,_0x3658d7,_0x2b539c,_0x176c61,_0x9cedaa]=_0x1d3812,_0x4af67b=global['support']={'ffmpeg':_0x374b93,'ffprobe':_0x3bf8f1,'ffmpegWebp':_0x37bc38,'convert':_0x3658d7,'magick':_0x2b539c,'gm':_0x176c61,'find':_0x9cedaa};Object['freeze'](global['support']);}function clearTmp(){const _0x16a05d=join(__dirname,'tmp'),_0x4ff9ca=readdirSync(_0x16a05d);_0x4ff9ca['forEach'](_0x444db0=>{const _0x23125d=join(_0x16a05d,_0x444db0);unlinkSync(_0x23125d);});}async function purgeSession(){const _0x40281e='./sessions';try{if(!existsSync(_0x40281e))return;const _0x554790=await readdir(_0x40281e),_0x47443c=_0x554790['filter'](_0x23c9da=>_0x23c9da['startsWith']('pre-key-')),_0x305689=Date['now'](),_0x552396=_0x305689-0x18*0x3c*0x3c*0x3e8;for(const _0x2aa1a5 of _0x47443c){const _0x54cb2b=join(_0x40281e,_0x2aa1a5),_0x12ebba=await stat(_0x54cb2b);if(_0x12ebba['mtimeMs']<_0x552396)try{await unlink(_0x54cb2b),console['log'](_0xaa97e1['green']('[ðŸ—‘ï¸]\x20Old\x20pre-key\x20removed:\x20'+_0x2aa1a5));}catch(_0x36ca0f){}else console['log'](_0xaa97e1['yellow']('[â„¹ï¸]\x20Keeping\x20pre-key\x20active:\x20'+_0x2aa1a5));}console['log'](_0xaa97e1['cyanBright']('[ðŸ”µ]\x20Non-essential\x20sessions\x20deleted\x20from\x20'+global['authFile']));}catch(_0x4bc930){}}async function purgeSessionSB(){const _0x2fd400='./bebots/';try{if(!existsSync(_0x2fd400))return;const _0x1a99f3=await readdir(_0x2fd400);let _0x141d24=[];const _0x6eae07=Date['now'](),_0x5063ca=_0x6eae07-0x18*0x3c*0x3c*0x3e8;for(const _0xfc9538 of _0x1a99f3){const _0x327ef6=join(_0x2fd400,_0xfc9538),_0x555323=await stat(_0x327ef6);if(_0x555323['isDirectory']()){const _0x42069e=await readdir(_0x327ef6),_0x5a89dd=_0x42069e['filter'](_0xb95557=>_0xb95557['startsWith']('pre-key-')&&_0xb95557!=='creds.json');_0x141d24=[..._0x141d24,..._0x5a89dd];for(const _0x2e0437 of _0x5a89dd){const _0x3850b0=join(_0x327ef6,_0x2e0437),_0x160248=await stat(_0x3850b0);if(_0x160248['mtimeMs']<_0x5063ca)try{await unlink(_0x3850b0),console['log'](_0xaa97e1['bold']['green']('Successfully\x20deleted\x20old\x20pre-key\x20file:\x20'+_0x2e0437));}catch(_0x2cb1ec){}else{}}}}_0x141d24['length']===0x0?console['log'](_0xaa97e1['bold']['green']('No\x20old\x20pre-keys\x20found\x20for\x20sub-bots.')):console['log'](_0xaa97e1['cyanBright']('[ðŸ”µ]\x20Deleted\x20'+_0x141d24['length']+'\x20old\x20pre-keys\x20from\x20sub-bots.'));}catch(_0x15631f){console['log'](_0xaa97e1['bold']['red']('Error\x20during\x20sub-bot\x20pre-key\x20cleanup:\x20'+_0x15631f));}}async function purgeOldFiles(){const _0x580b2d=['./sessions/','./bebots/'];for(const _0x127aba of _0x580b2d){try{if(!_0x276311['existsSync'](_0x127aba)){console['log'](_0xaa97e1['yellow']('[âš ]\x20Folder\x20does\x20not\x20exist:\x20'+_0x127aba));continue;}const _0x548ea0=await fsPromises['readdir'](_0x127aba);for(const _0x1cec83 of _0x548ea0){if(_0x1cec83!=='creds.json'){const _0x2b1f8d=join(_0x127aba,_0x1cec83);try{await fsPromises['unlink'](_0x2b1f8d);}catch(_0x582cea){}}}}catch(_0xf02fbe){}}}function redefineConsoleMethod(_0x56298a,_0x4bf5ef){const _0x39e0e7=console[_0x56298a];console[_0x56298a]=function(){const _0x2cc789=arguments[0x0];typeof _0x2cc789==='string'&&_0x4bf5ef['some'](_0x4fdd99=>_0x2cc789['includes'](atob(_0x4fdd99)))&&(arguments[0x0]=''),_0x39e0e7['apply'](console,arguments);};}setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;await clearTmp(),console['log'](_0xaa97e1['bold']['cyanBright']('Temporary\x20files\x20cleared\x20successfully.'));},0x3e8*0x3c*0x3),setInterval(async()=>{if(stopped==='close'||!conn||!conn['user'])return;await purgeSessionSB(),await purgeSession(),console['log'](_0xaa97e1['bold']['cyanBright']('Session\x20files\x20cleared\x20successfully.')),await purgeOldFiles(),console['log'](_0xaa97e1['bold']['cyanBright']('Old\x20files\x20cleared\x20successfully.'));},0x3e8*0x3c*0xa),_quickTest()['then'](()=>conn['logger']['info'](_0xaa97e1['bold']('Bot\x20loaded\x20successfully.')))['catch'](console['error']);let file=fileURLToPath(import.meta.url);watchFile(file,()=>{unwatchFile(file),console['log'](_0xaa97e1['bold']['greenBright']('Main\x20bot\x20file\x20updated.')),import(file+'?update='+Date['now']());});async function isValidPhoneNumber(_0xb642e){try{_0xb642e=_0xb642e['replace'](/\s+/g,'');if(_0xb642e['startsWith']('+923'))_0xb642e=_0xb642e['replace']('+921','+92');else _0xb642e['startsWith']('+92')&&_0xb642e[0x4]==='1'&&(_0xb642e=_0xb642e['replace']('+92\x203','+92'));const _0x62c825=phoneUtil['parseAndKeepRawInput'](_0xb642e);return phoneUtil['isValidNumber'](_0x62c825);}catch(_0xf8425e){return![];}}async function joinChannels(_0x46be2d){for(const _0x2e510a of Object['values'](global['ch'])){await _0x46be2d['newsletterFollow'](_0x2e510a)['catch'](()=>{});}}
